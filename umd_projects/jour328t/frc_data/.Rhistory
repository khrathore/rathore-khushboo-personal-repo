med_med = median(med_max),
med_mean = median(mean_max),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
current_teams <- fromJSON("frc_allcurrent.json")
all_teams <- fromJSON("frc_allteams.json")
all_events <- fromJSON("frc_events.json")
dead_teams <- all_teams %>%
anti_join(current_teams)
team_ends <- fromJSON("frc_endyears.json")
max_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
group_by(year) %>%
summarize(
max_blue = max(blue_score),
max_red = max(red_score),
max_overall = max(max_blue:max_red)
) %>%
select(year, max_overall)
team_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
inner_join(max_pts, by = "year") %>%
inner_join(current_teams, by = c("team_key" = "key")) %>%
mutate(score = case_when(
alliance_color == "red" ~ red_score,
alliance_color == "blue" ~ blue_score,
TRUE ~ NA
)) %>%
select(team_key, team_number, rookie_year, score, max_overall, year) %>%
group_by(team_key, year) %>%
summarize(
med_score = median(score),
mean_score = mean(score),
mean_max = round(mean_score/max_overall*100, 2),
med_max = round(med_score/max_overall*100, 2),
years_active = 2024-rookie_year,
) %>%
distinct(team_key, year, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
mean_med = mean(med_max),
mean_mean = mean(mean_max),
med_med = median(med_max),
med_mean = median(mean_max),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize") ~ "Central/South America",
str_detect(country, "France|United Kingsom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
))
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
))
write_csv(team_info_pts, "scatter_data.csv")
View(current_teams)
View(data_by_team)
View(all_events)
View(data_by_team)
View(max_pts)
View(data_by_team)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key"))
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*"))
View(champs_appearances)
View(team_info_pts)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
group_by(team_key) %>%
count = n()
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
group_by(team_key, count = n())
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances)
View(team_info_pts)
team_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
inner_join(max_pts, by = "year") %>%
inner_join(current_teams, by = c("team_key" = "key")) %>%
mutate(score = case_when(
alliance_color == "red" ~ red_score,
alliance_color == "blue" ~ blue_score,
TRUE ~ NA
)) %>%
select(team_key, team_number, rookie_year, score, max_overall, year) %>%
group_by(team_key, year) %>%
summarize(
med_score = median(score),
mean_score = mean(score),
mean_max = round(mean_score/max_overall*100, 2),
med_max = round(med_score/max_overall*100, 2),
years_active = 2024-rookie_year,
) %>%
distinct(team_key, year, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
mean_med = round(mean(med_max),2),
mean_mean = round(mean(mean_max),2),
med_med = round(median(med_max),2),
med_mean = round(median(mean_max),2),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
))
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*"))
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
))
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
)) %>%
mutate(count = case_when(
is.na(count) ~ 0,
TRUE ~ count
))
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|kiye|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
TRUE ~ country
)) %>%
mutate(count = case_when(
is.na(count) ~ 0,
TRUE ~ count/years_active
))
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(count = case_when(
is.na(count) ~ 0,
TRUE ~ count/years_active
))
write_csv(team_info_pts, "scatter_data.csv")
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*"))
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
))
write_csv(team_info_pts, "scatter_data.csv")
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
))
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
)) %>%
filter(percent > 0)
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
)) %>%
filter(percent > 0) %>%
filter(years_active > 1)
write_csv(team_info_pts, "scatter_data.csv")
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*"))
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
View(champs_appearances)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key)
View(all_teams)
team_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
inner_join(max_pts, by = "year") %>%
inner_join(current_teams, by = c("team_key" = "key")) %>%
mutate(score = case_when(
alliance_color == "red" ~ red_score,
alliance_color == "blue" ~ blue_score,
TRUE ~ NA
)) %>%
select(team_key, team_number, rookie_year, score, max_overall, year) %>%
group_by(team_key, year) %>%
summarize(
med_score = median(score),
mean_score = mean(score),
mean_max = round(mean_score/max_overall*100, 2),
med_max = round(med_score/max_overall*100, 2),
years_active = 2024-rookie_year+1,
) %>%
distinct(team_key, year, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
mean_med = round(mean(med_max),2),
mean_mean = round(mean(mean_max),2),
med_med = round(median(med_max),2),
med_mean = round(median(mean_max),2),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
)) %>%
filter(percent > 0) %>%
filter(years_active > 1)
write_csv(team_info_pts, "scatter_data.csv")
team_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
inner_join(max_pts, by = "year") %>%
inner_join(current_teams, by = c("team_key" = "key")) %>%
mutate(score = case_when(
alliance_color == "red" ~ red_score,
alliance_color == "blue" ~ blue_score,
TRUE ~ NA
)) %>%
select(team_key, team_number, rookie_year, score, max_overall, year) %>%
group_by(team_key, year) %>%
summarize(
med_score = median(score),
mean_score = mean(score),
mean_max = round(mean_score/max_overall*100, 2),
med_max = round(med_score/max_overall*100, 2),
years_active = 2024-rookie_year+1,
) %>%
distinct(team_key, year, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
mean_med = round(mean(med_max),2),
mean_mean = round(mean(mean_max),2),
med_med = round(median(med_max),2),
med_mean = round(median(mean_max),2),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_pts <- data_by_team %>%
mutate(year = substr(event_key, start = 1, stop = 4)) %>%
inner_join(max_pts, by = "year") %>%
inner_join(current_teams, by = c("team_key" = "key")) %>%
mutate(score = case_when(
alliance_color == "red" ~ red_score,
alliance_color == "blue" ~ blue_score,
TRUE ~ NA
)) %>%
select(team_key, team_number, rookie_year, score, max_overall, year) %>%
group_by(team_key, year) %>%
summarize(
med_score = median(score),
mean_score = mean(score),
mean_max = round(mean_score/max_overall*100, 2),
med_max = round(med_score/max_overall*100, 2),
years_active = 2025-rookie_year,
) %>%
distinct(team_key, year, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
mean_med = round(mean(med_max),2),
mean_mean = round(mean(mean_max),2),
med_med = round(median(med_max),2),
med_mean = round(median(mean_max),2),
years_active = years_active
) %>%
distinct(team_key, .keep_all = TRUE)
champs_appearances <- data_by_team %>%
left_join(all_events, by = c("event_key" = "key")) %>%
filter(str_detect(event_type_string, "^Championship D.*")) %>%
distinct(team_key, event_key, .keep_all = TRUE) %>%
group_by(team_key) %>%
summarize(
count = n()
)
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
)) %>%
filter(percent > 0) %>%
filter(years_active > 1)
write_csv(team_info_pts, "scatter_data.csv")
team_info_pts <- team_pts %>%
left_join(current_teams, by = c("team_key" = "key")) %>%
select(team_key:years_active, team_number, country, nickname) %>%
left_join(champs_appearances) %>%
mutate(country_groups = case_when(
str_detect(country, "Brazil|Dominican|Colombia|Mexico|Belize|Panama") ~ "Central/South America",
str_detect(country, "France|United Kingdom|Netherlands|Poland|Czech|Switzerland|Croatia|Romania|Bulgaria|Sweden") ~ "Europe",
str_detect(country, "India|Chin|Singapore|Azerbaijan|Philippines|Japan") ~ "Asia/Pacific Islands",
str_detect(country, "kiye|Israel") ~ "Middle East",
TRUE ~ country
)) %>%
mutate(percent = case_when(
is.na(count) ~ 0,
TRUE ~ round(count/years_active*100,2)
)) %>%
mutate(years_active = case_when(
years_active == 0 ~ 1,
TRUE ~ years_active
)) %>%
filter(percent > 0) %>%
filter(years_active > 2)
write_csv(team_info_pts, "scatter_data.csv")
